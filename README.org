#+title: Readme

* PRAM
#+begin_src
funcion OrdenamientoPorRanking (D, P):
    // Input
    for each processor P_i in parallel:
        D_i = D[local data of P_i]

    // Gossip
    for each processor P_i in parallel:
        for each processor P_j:
            Send D_i to P_j
        Receive D_j from all processors

    // Broadcast
    for each processor P_i in parallel:
        D_total = concatenate(D_1, D_2, ..., D_P)

    // Sort
    for each processor P_i in parallel:
        Sort(D_total)

    // Local ranking
    for each processor P_i in parallel:
        Local_Rank(D_total)

    // Reduce
    for each processor P_i in parallel:
        Ajuste_global (D_total)

    return D_total
#+end_src

* Times :noexport:
** P=1 (sequential qsort)
*** N=500000000
#+NAME: p1-500000000
|   Times |
|---------|
| 11836.2 |
| 11681.4 |
| 11603.1 |
| 11774.2 |
| 11486.4 |
| 11871.4 |
| 11787.3 |
| 11594.5 |
| 11683.3 |
| 11804.3 |
| 12078.6 |
| 12158.3 |
|   11646 |
|   11690 |
| 11868.5 |
|---------|
| 11770.9 |
#+TBLFM: @>=vmean(@I..II)
*** N=100000000
|     Times |
|-----------|
|   2359.04 |
|   2311.69 |
|   2309.46 |
|   2272.94 |
|   2295.89 |
|   2292.09 |
|   2256.03 |
|   2229.46 |
|   2280.09 |
|   2332.85 |
|   2283.98 |
|   2286.97 |
|   2293.79 |
|   2266.04 |
|   2247.51 |
|-----------|
| 2287.8553 |
#+TBLFM: @>=vmean(@I..II)
*** N=50000000
|     Times |
|-----------|
|   1098.46 |
|   1163.97 |
|   1116.42 |
|   1168.63 |
|   1157.56 |
|   1144.96 |
|   1127.27 |
|   1102.23 |
|   1089.54 |
|   1098.99 |
|   1067.16 |
|   1101.99 |
|   1133.83 |
|   1096.59 |
|   1155.37 |
|-----------|
| 1121.5313 |
#+TBLFM: @>=vmean(@I..II)
*** N=10000000
|     Times |
|-----------|
|   216.453 |
|    211.36 |
|    222.96 |
|   222.971 |
|    206.24 |
|   221.642 |
|   218.791 |
|   211.341 |
|   215.463 |
|   223.251 |
|   215.633 |
|   223.274 |
|   218.363 |
|   218.764 |
|   218.035 |
|-----------|
| 217.63607 |
#+TBLFM: @>=vmean(@I..II)
*** N=5000000
|     Times |
|-----------|
|   107.331 |
|   106.867 |
|   113.764 |
|   102.865 |
|   103.546 |
|    104.25 |
|   101.949 |
|   104.765 |
|   99.2519 |
|   105.196 |
|   102.417 |
|   104.597 |
|   105.591 |
|   104.934 |
|   104.374 |
|-----------|
| 104.77986 |
#+TBLFM: @>=vmean(@I..II)
*** N=1000000
|    Times |
|----------|
|  19.8837 |
|  20.0641 |
|  20.8374 |
|  20.8026 |
|  20.3049 |
|  20.1535 |
|  20.1396 |
|  20.4274 |
|  19.9693 |
|  20.1056 |
|  20.3005 |
|  20.2483 |
|  20.7728 |
|  20.8273 |
|  21.6853 |
|----------|
| 20.43482 |
#+TBLFM: @>=vmean(@I..II)
*** N=500000
|   Times |
|---------|
| 9.61492 |
| 10.0617 |
| 10.2132 |
| 9.91879 |
| 9.96613 |
|  10.111 |
| 9.73427 |
|  10.235 |
| 9.90571 |
| 9.91918 |
| 10.0176 |
| 9.91351 |
| 9.66452 |
| 9.87855 |
| 9.72887 |
|---------|
| 9.92553 |
#+TBLFM: @>=vmean(@I..II)
|
*** N=100000
|     Times |
|-----------|
|   1.99348 |
|   2.10652 |
|   2.12001 |
|   1.89952 |
|   1.95757 |
|   1.96001 |
|   2.04618 |
|   1.88429 |
|   1.96357 |
|   1.98624 |
|   1.92912 |
|   1.95971 |
|   1.97968 |
|   1.95172 |
|   2.02231 |
|-----------|
| 1.9839953 |
#+TBLFM: @>=vmean(@I..II)
*** N=50000
|      Times |
|------------|
|   0.964666 |
|   0.970547 |
|   0.991235 |
|     1.0082 |
|   0.987639 |
|   0.994021 |
|   0.985364 |
|    1.00791 |
|   0.956931 |
|   0.955989 |
|   0.975095 |
|    1.02446 |
|   0.970576 |
|   0.992358 |
|   0.930952 |
|------------|
| 0.98106287 |
#+TBLFM: @>=vmean(@I..II)
*** N=10000
|    Times |
|----------|
| 0.194336 |
| 0.190929 |
| 0.195127 |
| 0.194296 |
| 0.187292 |
| 0.193835 |
| 0.192933 |
| 0.192903 |
| 0.192221 |
| 0.189317 |
| 0.194536 |
| 0.241635 |
| 0.189927 |
| 0.193264 |
| 0.193324 |
|----------|
| 0.195725 |
#+TBLFM: @>=vmean(@I..II)
*** N=5000
|     Times |
|-----------|
|  0.097533 |
|  0.096772 |
|  0.096742 |
|  0.144472 |
|  0.141276 |
|  0.098526 |
|    0.0957 |
|  0.098916 |
|  0.099257 |
|  0.097113 |
|  0.113504 |
|  0.101802 |
|  0.096733 |
|  0.097464 |
|  0.096652 |
|-----------|
| 0.1048308 |
#+TBLFM: @>=vmean(@I..II)
*** N=1000
|       Times |
|-------------|
|    0.019937 |
|    0.019717 |
|    0.019336 |
|    0.020759 |
|    0.019808 |
|    0.020038 |
|    0.021039 |
|    0.020439 |
|    0.020067 |
|    0.020088 |
|    0.020669 |
|    0.031018 |
|    0.020268 |
|    0.019957 |
|    0.020148 |
|-------------|
| 0.020885867 |
#+TBLFM: @>=vmean(@I..II)
** P=4
*** N=500_000_000
|     Times |
|-----------|
|   11.9854 |
|    12.085 |
|   12.4196 |
|   12.1375 |
|   12.1786 |
|   12.2377 |
|   12.1523 |
|    12.206 |
|   12.2856 |
|    12.341 |
|   12.0619 |
|   12.4067 |
|   12.2172 |
|   12.1725 |
|   12.2031 |
|-----------|
| 12.206007 |
#+TBLFM: @>=vmean(@I..II)

*** N=100_000_000
|     Times |
|-----------|
|   2.37269 |
|   2.33668 |
|   2.37415 |
|   2.36766 |
|   2.34515 |
|   2.31952 |
|    2.3628 |
|   2.36924 |
|   2.40403 |
|   2.33064 |
|   2.39081 |
|   2.33912 |
|   2.38557 |
|   2.37424 |
|   2.42653 |
|-----------|
| 2.3665887 |
#+TBLFM: @>=vmean(@I..II)

*** N=50_000_000
|     Times |
|-----------|
|   1.14774 |
|   1.14806 |
|   1.14806 |
|   1.14094 |
|   1.16005 |
|   1.14827 |
|   1.14795 |
|   1.16432 |
|    1.1505 |
|   1.17075 |
|   1.18675 |
|    1.1485 |
|   1.14978 |
|   1.14948 |
|   1.14799 |
|-----------|
| 1.1539427 |
#+TBLFM: @>=vmean(@I..II)
*** N=10_000_000
|      Times |
|------------|
|   0.214832 |
|   0.213234 |
|    0.21725 |
|   0.228151 |
|   0.214438 |
|   0.217078 |
|   0.217466 |
|   0.217264 |
|   0.213931 |
|   0.215096 |
|   0.237465 |
|   0.217026 |
|   0.214749 |
|   0.214777 |
|   0.217314 |
|------------|
| 0.21800473 |
#+TBLFM: @>=vmean(@I..II)
*** N=5_000_000
|     Times |
|-----------|
|  0.106227 |
|  0.103344 |
|  0.102464 |
|  0.110607 |
|  0.112389 |
|  0.104836 |
|  0.126859 |
|  0.114606 |
|   0.10496 |
|   0.10498 |
|  0.107648 |
|  0.103922 |
|  0.106125 |
|  0.103443 |
|  0.104389 |
|-----------|
| 0.1077866 |
#+TBLFM: @>=vmean(@I..II)
*** N=1_000_000
|       Times |
|-------------|
|    0.020309 |
|   0.0305652 |
|   0.0193713 |
|   0.0288837 |
|   0.0195555 |
|   0.0190726 |
|   0.0309978 |
|   0.0190157 |
|   0.0190074 |
|   0.0191866 |
|   0.0186372 |
|   0.0188503 |
|   0.0233509 |
|   0.0188432 |
|   0.0203352 |
|-------------|
| 0.021732107 |
#+TBLFM: @>=vmean(@I..II)
*** N=500_000
|       Times |
|-------------|
|  0.00957972 |
|   0.0102996 |
|  0.00935124 |
|    0.014774 |
|  0.00924858 |
|  0.00943383 |
|  0.00956534 |
|   0.0094168 |
|  0.00922979 |
|   0.0130409 |
|  0.00958978 |
|  0.00913657 |
|   0.0149147 |
|   0.0094626 |
|  0.00911987 |
|-------------|
| 0.010410888 |
#+TBLFM: @>=vmean(@I..II)

*** N=100_000
|       Times |
|-------------|
|  0.00185136 |
|  0.00294096 |
|  0.00295985 |
|   0.0018275 |
|   0.0021004 |
|  0.00197259 |
|  0.00189924 |
|  0.00285727 |
|  0.00292698 |
|  0.00181025 |
|   0.0018057 |
|  0.00174757 |
|   0.0030332 |
|  0.00185001 |
|  0.00185629 |
|-------------|
| 2.229278e-3 |
#+TBLFM: @>=vmean(@I..II)

*** N=50_000
|       Times |
|-------------|
|  0.00143035 |
| 0.000993199 |
| 0.000946983 |
| 0.000962922 |
| 0.000900235 |
|  0.00146586 |
|  0.00108822 |
| 0.000976007 |
| 0.000947574 |
|  0.00108013 |
| 0.000906717 |
| 0.000927436 |
| 0.000946131 |
|  0.00104268 |
| 0.000988631 |
|-------------|
| 1.040205e-3 |
#+TBLFM: @>=vmean(@I..II)
*** N=10_000
|        Times |
|--------------|
|  0.000922035 |
|   0.00101953 |
|   0.00102093 |
|   0.00109607 |
|    0.0011332 |
|   0.00116968 |
|   0.00105535 |
|  0.000960217 |
|   0.00106441 |
|   0.00113329 |
|  0.000942414 |
|  0.000911616 |
|   0.00101695 |
|   0.00100327 |
|  0.000952523 |
|--------------|
| 1.0267657e-3 |
#+TBLFM: @>=vmean(@I..II)
*** N=5000
|        Times |
|--------------|
|  0.000147628 |
|   0.00017563 |
|  0.000173827 |
|    0.0001485 |
|  0.000246725 |
|  0.000222649 |
|  0.000143159 |
|   0.00024446 |
|  0.000194496 |
|  0.000252024 |
|  0.000214794 |
|  0.000194215 |
|  0.000200718 |
|  0.000277512 |
|  0.000171243 |
|--------------|
| 2.0050533e-4 |
#+TBLFM: @>=vmean(@I..II)
*** N=1000
|        Times |
|--------------|
|  0.000124675 |
|   8.0472e-05 |
|  0.000147177 |
|   9.8836e-05 |
|    7.454e-05 |
|   9.9628e-05 |
|   8.3668e-05 |
|  0.000195599 |
|  0.000104667 |
|   6.0835e-05 |
|   0.00013281 |
|  0.000124113 |
|  0.000169188 |
|   6.5544e-05 |
|   8.2886e-05 |
|--------------|
| 1.0964253e-4 |
#+TBLFM: @>=vmean(@I..II)
** P=9
*** N=500_000_000
|     Times |
|-----------|
|   10.5568 |
|   10.2295 |
|   10.0926 |
|   10.2135 |
|   10.1392 |
|   10.1943 |
|    10.333 |
|    10.286 |
|   10.2512 |
|   10.2125 |
|   10.1615 |
|   10.0575 |
|   10.2178 |
|   10.2647 |
|   10.1413 |
|-----------|
| 10.223427 |
#+TBLFM: @>=vmean(@I..II)

*** N=100_000_000
|     Times |
|-----------|
|   1.76244 |
|   1.79026 |
|   1.76099 |
|   1.79392 |
|   1.76428 |
|   1.78925 |
|   1.77212 |
|   1.80996 |
|   1.84224 |
|   1.87034 |
|   1.79558 |
|   1.74251 |
|   1.92039 |
|   1.83361 |
|   1.74516 |
|-----------|
| 1.7995367 |
#+TBLFM: @>=vmean(@I..II)

*** N=50_000_000
|      Times |
|------------|
|   0.912853 |
|   0.908202 |
|    1.00426 |
|   0.872046 |
|   0.879812 |
|   0.881684 |
|   0.890281 |
|   0.888969 |
|   0.875755 |
|   0.871943 |
|   0.910723 |
|   0.920692 |
|   0.880821 |
|   0.855717 |
|   0.878582 |
|------------|
| 0.89548933 |
#+TBLFM: @>=vmean(@I..II)

*** N=10_000_000
|      Times |
|------------|
|   0.169689 |
|   0.175756 |
|   0.186767 |
|   0.159787 |
|   0.174333 |
|   0.166739 |
|    0.19623 |
|   0.176691 |
|   0.177048 |
|   0.170431 |
|    0.16824 |
|   0.174173 |
|    0.20889 |
|   0.179143 |
|   0.173089 |
|------------|
| 0.17713373 |
#+TBLFM: @>=vmean(@I..II)

*** N=5_000_000
|      Times |
|------------|
|   0.106502 |
|   0.100223 |
|  0.0873907 |
|  0.0818518 |
|   0.094068 |
|  0.0985515 |
|    0.10366 |
|   0.105537 |
|  0.0829772 |
|  0.0814877 |
|  0.0761037 |
|  0.0747617 |
|  0.0824687 |
|  0.0999995 |
|  0.0836056 |
|------------|
| 0.09061254 |
#+TBLFM: @>=vmean(@I..II)
*** N=1_000_000
|     Times |
|-----------|
| 0.0186804 |
| 0.0188324 |
| 0.0198829 |
| 0.0191226 |
| 0.0190888 |
| 0.0186813 |
| 0.0136708 |
| 0.0190417 |
| 0.0189241 |
| 0.0202464 |
| 0.0139778 |
| 0.0147278 |
| 0.0198389 |
| 0.0188412 |
| 0.0200819 |
|-----------|
| 0.0182426 |
#+TBLFM: @>=vmean(@I..II)
*** N=500_000
|       Times |
|-------------|
|  0.00920186 |
|  0.00886258 |
|  0.00929042 |
|  0.00905367 |
|   0.0088843 |
|  0.00932697 |
|  0.00906133 |
|  0.00869288 |
|  0.00661893 |
|   0.0091619 |
|  0.00864756 |
|  0.00810507 |
|  0.00927937 |
|  0.00876069 |
|  0.00927246 |
|-------------|
| 8.814666e-3 |
#+TBLFM: @>=vmean(@I..II)
*** N=100_000
|       Times |
|-------------|
|  0.00169209 |
|   0.0021429 |
|  0.00178477 |
|  0.00206034 |
|  0.00139046 |
|  0.00180483 |
|  0.00199125 |
|  0.00143927 |
|  0.00182016 |
|  0.00211178 |
|  0.00205388 |
|  0.00172594 |
|  0.00132597 |
|  0.00182385 |
|  0.00197672 |
|-------------|
| 1.809614e-3 |
#+TBLFM: @>=vmean(@I..II)
*** N=50_000
|        Times |
|--------------|
|  0.000922035 |
|   0.00101953 |
|   0.00102093 |
|   0.00109607 |
|    0.0011332 |
|   0.00116968 |
|   0.00105535 |
|  0.000960217 |
|   0.00106441 |
|   0.00113329 |
|  0.000942414 |
|  0.000911616 |
|   0.00101695 |
|   0.00100327 |
|  0.000952523 |
|--------------|
| 1.0267657e-3 |
#+TBLFM: @>=vmean(@I..II)
*** N=10_000
|        Times |
|--------------|
|  0.000342324 |
|  0.000461809 |
|  0.000391798 |
|  0.000321826 |
|  0.000317888 |
|  0.000279997 |
|  0.000436522 |
|  0.000395775 |
|  0.000380466 |
|   0.00034528 |
|  0.000301928 |
|  0.000406575 |
|  0.000332706 |
|  0.000445359 |
|  0.000342304 |
|--------------|
| 3.6683713e-4 |
#+TBLFM: @>=vmean(@I..II)
*** N=5000
|        Times |
|--------------|
|  0.000280618 |
|  0.000234752 |
|  0.000234572 |
|  0.000264899 |
|  0.000249179 |
|  0.000225314 |
|   0.00032402 |
|  0.000273174 |
|  0.000248929 |
|  0.000263746 |
|  0.000220715 |
|  0.000297219 |
|  0.000301758 |
|  0.000227328 |
|  0.000295736 |
|--------------|
| 2.6279727e-4 |
#+TBLFM: @>=vmean(@I..II)
*** N=1000
|       Times |
|-------------|
|  0.00012749 |
| 0.000229382 |
| 0.000178906 |
| 0.000136216 |
| 0.000214263 |
| 0.000242016 |
| 0.000126879 |
| 0.000227599 |
| 0.000216949 |
| 0.000173216 |
| 0.000131408 |
| 0.000173446 |
| 0.000179227 |
|  0.00018076 |
| 0.000211779 |
|-------------|
| 1.833024e-4 |
#+TBLFM: @>=vmean(@I..II)
* AVG
#+NAME: avgs-table
|        N= | P=1 (std::sort) |   P=4 (rank) |   P=9 (rank) |            P=4 (qsort) |            P=9 (qsort) |
|-----------+-----------------+--------------+--------------+------------------------+------------------------|
|      1000 |    2.0885867e-5 | 1.0964253e-4 |  1.833024e-4 |  0.0001451305333333333 |  0.0004695903333333334 |
|      5000 |     1.048308e-4 | 2.0050533e-4 | 2.6279727e-4 | 0.00020618733333333328 | 0.00041046246666666663 |
|     10000 |      1.95725e-4 | 1.0267657e-3 | 3.6683713e-4 |           0.0003160728 |  0.0005392963333333334 |
|     50000 |    9.8106287e-4 |  1.040205e-3 | 1.0267657e-3 |  0.0016373073333333335 |  0.0010801833333333331 |
|    100000 |    1.9839953e-3 |  2.229278e-3 |  1.809614e-3 |   0.002828417333333333 |   0.002832840666666667 |
|    500000 |      9.92553e-3 |  0.010410888 |  8.814666e-3 |   0.012963273333333336 |   0.010005175333333333 |
|   1000000 |      0.02043482 |  0.021732107 |    0.0182426 |    0.04403262666666666 |             0.02997538 |
|   5000000 |      0.10477986 |    0.1077866 |   0.09061254 |    0.17119820000000002 |    0.08264712666666667 |
|  10000000 |      0.21763607 |   0.21800473 |   0.17713373 |     0.3495047333333334 |    0.18528286666666668 |
|  50000000 |       1.1215313 |    1.1539427 |   0.89548933 |      1.969305333333334 |               1.205424 |
| 100000000 |       2.2878553 |    2.3665887 |    1.7995367 |      3.677351428571428 |     1.8469986666666667 |
| 500000000 |         11.7709 |    12.206007 |    10.223427 |      20.80092666666667 |      9.721366000000002 |

Gráfico con escala logarítmica en el axis x.
#+BEGIN_SRC gnuplot :var data=avgs-table :file rank-sort-avgs.png :export results
set title "Rank sort"
set style data lines

set xlabel "N array"
set xrange [500:1000000000]
set logscale x

# set ytics 0,5
set ylabel "Tiempo (s)"
set yrange [1.5e-5:1000]
set logscale y

Round(Number, Digits) = sprintf(sprintf("%%.%iF", Digits), Number)

plot data u 1:2 w lp t "P=1 (qsort)", \
     data u 1:2:(Round($2, 3)) w labels center offset 0.5,.8 font "Times,10" notitle, \
     data u 1:3 w lp t "P=4 (rank)", \
     data u 1:3:(Round($3, 3)) w labels center offset 0.5,.8 font "Times,10" notitle, \
     data u 1:4 w lp t "P=9 (rank)", \
     data u 1:4:(Round($4, 3)) w labels center offset 0.5,.8 font "Times,10" notitle, \
     data u 1:5 w lp t "P=4 (qsort)", \
     data u 1:5:(Round($5, 3)) w labels center offset 0.5,.8 font "Times,10" notitle, \
     data u 1:6 w lp t "P=9 (qsort)", \
     data u 1:6:(Round($6, 3)) w labels center offset 0.5,.8 font "Times,10" notitle
#+END_SRC

#+RESULTS:
[[file:rank-sort-avgs.png]]
